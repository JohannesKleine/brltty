#!/bin/bash
. /brltty/current/libexec/canute-prologue.sh

showUsageSummary() {
cat <<END-OF-USAGE-SUMMARY
Run a BrlAPI Java client within a prepared environment.

Usage: ${programName} {-h | [java-argument ...]}

The following options may be specified:
-h       show this command line usage summary, and then exit
END-OF-USAGE-SUMMARY
}

[ "${#}" -gt 0 ] && {
   [ "${1}" = "-h" ] && {
      showUsageSummary
      exit 0
   }
}

if [ -n "${DISPLAY}" ]
then
   session=1
else
   session=0
fi

export BRLAPI_HOST="localhost:${session}"
exec java --class-path "${apiLinksDirectory}/java/brlapi.jar"  "-Djava.library.path=${apiLinksDirectory}/jni" "${@}"
exit "${?}"
