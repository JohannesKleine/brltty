#!/bin/bash
. /brltty/current/libexec/canute-prologue.sh

handleInitialHelpOption "${@}" <<END-OF-HELP
Run a BrlAPI Java client within a prepared environment.

Syntax: ${programName} {-h | [java-argument ...]}

Options:
  -h       show this command line usage summary, and then exit

All of the arguments are passed through to the java command.
END-OF-HELP

if [ -n "${DISPLAY}" ]
then
   session=1
else
   session=0
fi

export BRLAPI_HOST="localhost:${session}"
exec java --class-path "${apiLinksDirectory}/java/brlapi.jar"  "-Djava.library.path=${apiLinksDirectory}/jni" "${@}"
exit "${?}"
